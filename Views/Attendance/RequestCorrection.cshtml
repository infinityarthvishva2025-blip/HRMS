@model HRMS.Models.Attendance

@{
    var role = ViewBag.UserRole as string;
    Layout = (role == "HR" || role == "VP" || role == "GM" || role == "Director")
        ? "~/Views/Shared/_HrLayout.cshtml"
        : "~/Views/Shared/_EmployeeLayout.cshtml";
}

<form method="post"
      asp-action="RequestCorrection"
      asp-controller="Attendance"
      enctype="multipart/form-data">

    @Html.AntiForgeryToken()

    <input type="hidden" name="token" value="@ViewBag.Token" />
    <input type="hidden" name="employeeId" value="@ViewBag.EmployeeId" />

    <div class="mb-3">
        <label class="fw-bold">Why do you want correction?</label>
        <textarea name="CorrectionRemark" class="form-control" rows="4" required></textarea>
    </div>

    <!-- ✅ NEW: PROOF UPLOAD -->
    <div class="mb-3">
        <label class="fw-bold">Upload Proof (optional)</label>
        <input type="file"
               name="ProofFile"
               class="form-control"
               accept=".jpg,.jpeg,.png,.pdf" />
        <small class="text-muted">
            Allowed: JPG, PNG, PDF
        </small>
    </div>

    <button type="submit" class="btn btn-primary mt-2">
        Submit Request
    </button>

</form>
