@model HRMS.Models.Attendance

<link rel="stylesheet" href="~/css/attendance.css" />


@{
    ViewData["Title"] = "Attendance Management";
}

<!-- Attendance Section -->
<div class="container-fluid py-4 section" id="attendance">
    <h1 class="h3 mb-4 text-gray-800">Attendance Management</h1>

    <!-- GEO Tag Simulator -->
    <div class="row mb-4">
        <div class="col-md-6 mb-4 mb-md-0">
            <div class="geo-tag-simulator">
                <h4><i class="fas fa-tag me-2"></i>GEO Tag Attendance</h4>
                <p class="mb-3">Simulate GEO Tag attendance marking within 100km range</p>

                <div class="mb-3">
                    <label class="form-label">Employee GEO Tag ID:</label>
                    <select class="form-select" id="geoTagSelect">
                        <option value="">Select GEO Tag</option>
                    </select>
                </div>

                <div class="mb-3">
                    <label class="form-label">Current Location:</label>
                    <div class="input-group">
                        <input type="text" class="form-control" id="locationLat" placeholder="Latitude" value="19.0760">
                        <input type="text" class="form-control" id="locationLon" placeholder="Longitude" value="72.8777">
                    </div>
                    <small class="form-text">Office Location: 19.0760, 72.8777 (Mumbai)</small>
                </div>

                <button class="btn btn-light w-100" onclick="simulateGeoTagAttendance()">
                    <i class="fas fa-fingerprint me-2"></i>Simulate GEO Tag Tap
                </button>

                <div class="mt-3 attendance-status" id="attendanceResult"></div>
            </div>
        </div>

        <div class="col-md-6">
            <div class="card dashboard-section h-100">
                <div class="card-header">
                    <h5 class="card-title mb-0">Today's Attendance Summary</h5>
                </div>
                <div class="card-body">
                    <div class="chart-container">
                        <canvas id="attendanceChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Attendance Records -->
    <div class="card dashboard-section">
        <div class="card-header">
            <h5 class="card-title mb-0">Recent Attendance Records</h5>
        </div>
        <div class="card-body">
            <div class="table-responsive">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>Date</th>
                            <th>Employee</th>
                            <th>In Time</th>
                            <th>Out Time</th>
                            <th>Method</th>
                            <th>Status</th>
                            <th>Location</th>
                        </tr>
                    </thead>
                    <tbody id="attendanceTableBody">
                        <!-- Attendance data will load here -->
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</div>

<!-- JS file -->
<script src="~/js/attendance.js"></script>
 
@* <div class="container mt-4">

    <h2>Attendance Management</h2>

    <div class="row mt-3">
        <div class="col-md-7">
            @await Html.PartialAsync("_JioTagPanel")
        </div>

        <div class="col-md-5">
            @await Html.PartialAsync("_SummaryChart")
        </div>
    </div>

    <div class="mt-4">
        @await Html.PartialAsync("_RecentRecords")
    </div>

</div> *@

<script src="~/js/attendanceChart.js"></script>
