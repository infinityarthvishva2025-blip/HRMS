@{
    ViewData["Title"] = "Dashboard";
}

<!-- Dashboard Summary Cards -->
<div class="row">
    <div class="col-md-3 mb-3">
        <div class="card shadow-sm border-0 text-center">
            <div class="card-body">
                <i class="fa-solid fa-users fa-2x text-primary mb-2"></i>
                <h4 class="fw-bold mb-0">47</h4>
                <small>Total Employees</small>
            </div>
        </div>
    </div>

    <div class="col-md-3 mb-3">
        <div class="card shadow-sm border-0 text-center">
            <div class="card-body">
                <i class="fa-solid fa-user-check fa-2x text-success mb-2"></i>
                <h4 class="fw-bold mb-0">42</h4>
                <small>Today's Present</small>
            </div>
        </div>
    </div>

    <div class="col-md-3 mb-3">
        <div class="card shadow-sm border-0 text-center">
            <div class="card-body">
                <i class="fa-solid fa-location-dot fa-2x text-info mb-2"></i>
                <h4 class="fw-bold mb-0">35</h4>
                <small>Geo Tags Assigned</small>
            </div>
        </div>
    </div>

    <div class="col-md-3 mb-3">
        <div class="card shadow-sm border-0 text-center">
            <div class="card-body">
                <i class="fa-solid fa-calendar-xmark fa-2x text-warning mb-2"></i>
                <h4 class="fw-bold mb-0">8</h4>
                <small>Pending Leaves</small>
            </div>
        </div>
    </div>
</div>

<div>
    <!-- Celebrations + Chart Row -->
    <div class="row mt-4">
        <!-- Celebrations Section -->
        <div class="col-md-6 mb-4 d-flex">
            <div class="card shadow-sm border-0 flex-fill h-100">
                <div class="card-header bg-white fw-bold">
                    Celebrations
                </div>
                <div class="card-body d-flex flex-column justify-content-between">
                    <div class="row">
                        <!-- Today's Celebrations -->
                        <div class="col-md-6 border-end">
                            <h6 class="text-primary fw-semibold mb-3">Today's Celebrations</h6>

                            <div class="d-flex align-items-center mb-3">
                                <div class="celebration-icon bg-danger-subtle text-danger me-3">
                                    <i class="fa-solid fa-cake-candles"></i>
                                </div>
                                <div>
                                    <h6 class="mb-0 fw-semibold">John Smith</h6>
                                    <small class="text-muted">Birthday Today</small>
                                </div>
                            </div>

                            <div class="d-flex align-items-center">
                                <div class="celebration-icon bg-info-subtle text-info me-3">
                                    <i class="fa-solid fa-calendar-check"></i>
                                </div>
                                <div>
                                    <h6 class="mb-0 fw-semibold">Sarah Johnson</h6>
                                    <small class="text-muted">3 Years Work Anniversary</small>
                                </div>
                            </div>
                        </div>

                        <!-- Tomorrow's Celebrations -->
                        <div class="col-md-6">
                            <h6 class="text-primary fw-semibold mb-3">Tomorrow's Celebrations</h6>

                            <div class="d-flex align-items-center mb-3">
                                <div class="celebration-icon bg-danger-subtle text-danger me-3">
                                    <i class="fa-solid fa-cake-candles"></i>
                                </div>
                                <div>
                                    <h6 class="mb-0 fw-semibold">Mike Wilson</h6>
                                    <small class="text-muted">Birthday Tomorrow</small>
                                </div>
                            </div>

                            <div class="d-flex align-items-center">
                                <div class="celebration-icon bg-info-subtle text-info me-3">
                                    <i class="fa-solid fa-calendar-check"></i>
                                </div>
                                <div>
                                    <h6 class="mb-0 fw-semibold">David Lee</h6>
                                    <small class="text-muted">5 Years Work Anniversary</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Employee Distribution Chart -->
        <div class="col-md-6 mb-4 d-flex">
            <div class="card shadow-sm border-0 flex-fill h-100">
                <div class="card-header bg-white fw-bold">
                    Employee Distribution by Department
                </div>
                <div class="card-body d-flex align-items-center justify-content-center">
                    <canvas id="deptChart" height="250"></canvas>
                </div>
            </div>
        </div>
    </div>

</div>

<!-- Chart.js Script -->
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    const ctx = document.getElementById('deptChart');

    new Chart(ctx, {
        type: 'doughnut',
        data: {
            labels: ['IT', 'HR', 'Finance', 'Marketing', 'Operations', 'Sales'],
            datasets: [{
                label: 'Employees',
                data: [25, 18, 12, 20, 15, 10],
                backgroundColor: [
                    '#1976d2',  // IT
                    '#009688',  // HR
                    '#9c27b0',  // Finance
                    '#f44336',  // Marketing
                    '#ff9800',  // Operations
                    '#00bfa5'   // Sales
                ],
                borderWidth: 2,
                borderColor: '#fff',
                hoverOffset: 6
            }]
        },
        options: {
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        boxWidth: 20,
                        padding: 15
                    }
                }
            },
            cutout: '65%',
            responsive: true,
            maintainAspectRatio: false
        }
    });
</script>

<!-- Celebration Icon Styling -->
<style>
    .celebration-icon {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 18px;
        background: rgba(0, 0, 0, 0.05);
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
    }

    .bg-danger-subtle {
        background-color: #ffe5e5 !important;
    }

    .bg-info-subtle {
        background-color: #e0f7fa !important;
    }

    .text-danger {
        color: #e53935 !important;
    }

    .text-info {
        color: #00838f !important;
    }

    .card {
        border-radius: 10px;
    }

    .card-header {
        font-size: 1.1rem;
        border-bottom: 1px solid #e0e0e0;
    }
</style>
